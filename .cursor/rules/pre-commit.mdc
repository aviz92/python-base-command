---
description: SOLID, KISS, DRY, modular extraction, refactoring safety.
globs:
  - "**/*.py"
alwaysApply: true
---

## Pre-commit Checks - Mandatory
**All code MUST pass pre-commit checks before review approval.**

As part of the code review process, verify that:
1. **Pre-commit hooks are configured**: Check that `.pre-commit-config.yaml` exists and is properly configured
2. **Run pre-commit checks**: Execute `pre-commit run --all-files` or `uv run pre-commit run --all-files` before final review
3. **All hooks pass**: The following hooks must pass without errors:
   - **pre-commit-hooks**: trailing-whitespace, end-of-file-fixer, check-merge-conflict, check-added-large-files, check-yaml, check-json, check-toml, debug-statements, check-ast, detect-private-key, mixed-line-ending
   - **Black**: Code formatting must be correct
   - **Ruff**: Linting issues must be fixed (auto-fix enabled)
   - **Pylint**: Code quality checks must pass (separate configs for code and tests)

**Pre-commit Check Process**:
1. Before starting the review, run: `pre-commit run --all-files`
2. If any hooks fail, mark as **Critical Issue** - code must be fixed before review approval
3. Document any pre-commit failures in the review feedback
4. Ensure all formatting and linting issues are resolved

**Common Pre-commit Issues to Check**:
- Trailing whitespace
- Missing end-of-file newline
- Merge conflict markers (`<<<<<<<`, `=======`, `>>>>>>>`)
- Large files (>250KB)
- Invalid YAML/JSON/TOML syntax
- Debug statements (`print`, `pdb`, etc.)
- Private keys detected in files
- Black formatting violations
- Ruff linting errors
- Pylint code quality issues
